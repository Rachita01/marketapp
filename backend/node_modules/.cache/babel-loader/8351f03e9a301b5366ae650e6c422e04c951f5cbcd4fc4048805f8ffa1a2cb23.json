{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./Home.css';import ButtonComponent from'../ButtonComponent/ButtonComponent';// import usersData from '../../users.json';\nimport axios from'axios';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Home(){const[user,setUser]=useState(\"\");const[password,setPassword]=useState(\"\");const[list,setList]=useState([]);const navigate=useNavigate();const[pcdata,setPCData]=useState(null);useEffect(()=>{console.log(list,pcdata);},[list,pcdata]);const handleSubmit=async()=>{const data={user,password};if(list.newValue.length!==0&&list.newValue.filter(item=>item.username===data.user).length!==0){const filteredData=list.newValue.filter(item=>item.username===data.user);if(filteredData[0].username===data.user&&filteredData[0].password===data.password){if(data.user===\"JINDAL.SUMEET\"){navigate('/adminhome',{state:{data:\"\".concat(JSON.stringify(pcdata))}});}else{navigate(\"/pchome\",{state:{name:\"\".concat(data.user)}});}}else{alert(\"Please provide correct username and password\");}}else{axios.post(\"http://localhost:5000/users/users\",data).then(()=>{console.log(data);navigate(\"/pchome\");}).catch(error=>{console.log(error,data);alert(\"An error happened. Please check console\",error);});}};useEffect(()=>{axios.get('http://localhost:5000/users/users').then(response=>{const newValue=response.data.data;console.log(newValue);setList(prevList=>({...prevList,newValue}));}).catch(error=>{console.log(error.message);});axios.get('http://localhost:5000/creditupdate/creditupdate').then(response=>{console.log(response.data.data);setPCData(response.data.data);console.log(pcdata);}).catch(error=>{console.log(error.message);});},[]);const handleUserChange=event=>{setUser(event.target.value);};const handlePassChange=event=>{setPassword(event.target.value);};return/*#__PURE__*/_jsx(\"div\",{className:\"cardStyle\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"loginCard\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"loginHead\",children:\"Login\"}),/*#__PURE__*/_jsx(\"label\",{className:\"labelStyle\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"userClass\",value:user,onChange:handleUserChange}),/*#__PURE__*/_jsx(\"label\",{className:\"labelStyle\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"passwordClass\",value:password,onChange:handlePassChange}),/*#__PURE__*/_jsx(ButtonComponent,{label:\"Submit\",change:handleSubmit,disabled:!user||!password})]})});}export default Home;","map":{"version":3,"names":["React","useEffect","useState","ButtonComponent","axios","useNavigate","jsx","_jsx","jsxs","_jsxs","Home","user","setUser","password","setPassword","list","setList","navigate","pcdata","setPCData","console","log","handleSubmit","data","newValue","length","filter","item","username","filteredData","state","concat","JSON","stringify","name","alert","post","then","catch","error","get","response","prevList","message","handleUserChange","event","target","value","handlePassChange","className","children","type","onChange","label","change","disabled"],"sources":["C:/Users/rasinghal/Desktop/CreditUpdate/creditupdate/src/components/Home/Home.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport './Home.css';\r\nimport ButtonComponent from '../ButtonComponent/ButtonComponent';\r\n// import usersData from '../../users.json';\r\nimport axios from 'axios';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction Home() {\r\n  const [user,setUser] = useState(\"\")\r\n  const [password,setPassword] = useState(\"\");\r\n  const [list,setList] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  const [pcdata,setPCData] = useState(null);\r\n  useEffect(() => {\r\n    console.log(list,pcdata)\r\n  },[list,pcdata])\r\n\r\n  const handleSubmit = async () => {\r\n    const data = {\r\n      user,\r\n      password\r\n    };\r\n\r\n    if(list.newValue.length!==0 && (list.newValue.filter(item => item.username === data.user)).length !== 0){\r\n      const filteredData = list.newValue.filter(item => item.username === data.user);\r\n      if((filteredData[0].username === data.user) && (filteredData[0].password === data.password)){\r\n        if(data.user === \"JINDAL.SUMEET\"){\r\n          navigate('/adminhome',{state:{data:`${JSON.stringify(pcdata)}`}})\r\n        }\r\n        else{\r\n      navigate(\"/pchome\",{ state: { name:`${data.user}`}})\r\n        }\r\n      }\r\n      else{\r\n        alert(\"Please provide correct username and password\")\r\n      }\r\n    }else{\r\n    axios\r\n    .post(\"http://localhost:5000/users/users\",data)\r\n    .then(() => {\r\n      console.log(data);\r\n      navigate(\"/pchome\")\r\n    })\r\n    .catch((error) => {\r\n      console.log(error,data);\r\n      alert(\"An error happened. Please check console\",error);\r\n    })\r\n  }\r\n  };\r\n\r\n  useEffect(() => {\r\n    axios\r\n    .get('http://localhost:5000/users/users')\r\n    .then((response) => {\r\n      const newValue = response.data.data\r\n      console.log(newValue);\r\n      setList((prevList) => ({\r\n        ...prevList,newValue\r\n      }));\r\n    })\r\n    .catch((error) => {\r\n      console.log(error.message)\r\n    })\r\n\r\n    axios\r\n  .get('http://localhost:5000/creditupdate/creditupdate')\r\n  .then((response) => {\r\n    console.log(response.data.data);\r\n    setPCData(response.data.data);\r\n    console.log(pcdata)\r\n  })\r\n  .catch((error) => {\r\n    console.log(error.message)\r\n  })\r\n},[])\r\n\r\n  const handleUserChange =(event) => {\r\n     setUser(event.target.value);\r\n  }\r\n\r\n  const handlePassChange = (event) => {\r\n    setPassword(event.target.value);\r\n  }\r\n\r\n\r\n  return (\r\n    <div className='cardStyle'>\r\n      <div className='loginCard'>\r\n        <h3 className='loginHead'>Login</h3>\r\n        <label className='labelStyle'>Username</label><input type=\"text\" className='userClass' value={user} onChange={handleUserChange}></input>\r\n        <label className='labelStyle'>Password</label><input type=\"password\" className='passwordClass' value={password} onChange={handlePassChange}></input>\r\n        <ButtonComponent label=\"Submit\" change={handleSubmit} disabled={!user || !password}></ButtonComponent>\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n}\r\n\r\nexport default Home"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}