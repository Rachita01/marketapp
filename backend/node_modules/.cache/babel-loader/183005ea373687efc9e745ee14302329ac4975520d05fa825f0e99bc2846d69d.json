{"ast":null,"code":"import React,{useEffect,useState}from'react';import DatePicker from\"react-datepicker\";import axios from'axios';import\"react-datepicker/dist/react-datepicker.css\";import'./PCHome.css';import{useLocation}from'react-router-dom';import ButtonComponent from'../ButtonComponent/ButtonComponent';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function PCHome(){const location=useLocation();const navigate=useNavigate();const{name}=location.state||{};const[amount,setAmount]=useState(\"\");const[date,setDate]=useState(null);const[dateObj,setDateObj]=useState(null);const handleDate=date=>{console.log(date);setDateObj(date);setDate(formattedDate(date));};const handleAmount=e=>{setAmount(e.target.value);};const getCurrentDate=()=>{const date=new Date();const day=String(date.getDate()).padStart(2,'0');const month=String(date.getMonth()+1).padStart(2,'0');const year=date.getFullYear();const hours=String(date.getHours()).padStart(2,'0');const minutes=String(date.getMinutes()).padStart(2,'0');const seconds=String(date.getSeconds()).padStart(2,'0');return\"\".concat(day,\"/\").concat(month,\"/\").concat(year,\" \").concat(hours,\":\").concat(minutes,\":\").concat(seconds);};const handleSubmit=()=>{const currentDate=getCurrentDate();console.log(typeof amount,typeof date,typeof name,typeof currentDate);const data={name,date,amount,currentDate};console.log(data);axios.post(\"http://localhost:5000/creditupdate/creditupdate\",data).then(()=>{console.log(data);navigate(\"/\");}).catch(error=>{console.log(error,data);alert(\"An error happened. Please check console\",error);});};const formattedDate=d=>{if(d){return('0'+d.getDate()).slice(-2)+\"/\"+(\"0\"+(Number(d.getMonth())+1)).slice(-2)+\"/\"+d.getFullYear();}};useEffect(()=>{const inputElement=document.querySelector('.react-datepicker__input-container input');if(inputElement){inputElement.classList.add('inputCustom');}},[dateObj]);return/*#__PURE__*/_jsxs(\"div\",{className:\"cardStylePC\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"headStyle\",children:\"Please enter following details\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"pcContent\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dateComponent\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"pStyle\",children:\"DATE\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dateClass\",children:/*#__PURE__*/_jsx(DatePicker,{selected:dateObj,dateFormat:\"dd/MM/yyyy\",onChange:date=>handleDate(date)})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputComponent\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"pStyle\",children:\"AMOUNT\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",value:amount,className:\"inputClass\",onChange:handleAmount})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"submitStyle\",children:/*#__PURE__*/_jsx(ButtonComponent,{label:\"Submit\",change:handleSubmit,disabled:false})})]});}export default PCHome;","map":{"version":3,"names":["React","useEffect","useState","DatePicker","axios","useLocation","ButtonComponent","useNavigate","jsx","_jsx","jsxs","_jsxs","PCHome","location","navigate","name","state","amount","setAmount","date","setDate","dateObj","setDateObj","handleDate","console","log","formattedDate","handleAmount","e","target","value","getCurrentDate","Date","day","String","getDate","padStart","month","getMonth","year","getFullYear","hours","getHours","minutes","getMinutes","seconds","getSeconds","concat","handleSubmit","currentDate","data","post","then","catch","error","alert","d","slice","Number","inputElement","document","querySelector","classList","add","className","children","selected","dateFormat","onChange","type","label","change","disabled"],"sources":["C:/Users/rasinghal/Desktop/CreditUpdate/creditupdate/src/components/PCHome/PCHome.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport DatePicker from \"react-datepicker\";\r\nimport axios from 'axios';\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport './PCHome.css';\r\nimport { useLocation } from 'react-router-dom';\r\nimport ButtonComponent from '../ButtonComponent/ButtonComponent';\r\nimport { useNavigate } from 'react-router-dom';\r\n\r\nfunction PCHome() {\r\n    const location = useLocation();\r\n    const navigate = useNavigate();\r\n    const { name } = location.state || {};\r\n    const [amount,setAmount] = useState(\"\");\r\n    const[date,setDate] = useState(null);\r\n    const [dateObj,setDateObj] = useState(null);\r\n    const handleDate = (date) => {\r\n        console.log(date);\r\n        setDateObj(date)\r\n        setDate(formattedDate(date));\r\n    }\r\n\r\n    const handleAmount = (e) => {\r\n       setAmount(e.target.value)\r\n    }\r\n\r\n    const getCurrentDate = () => {\r\n        const date = new Date();\r\n        const day = String(date.getDate()).padStart(2, '0');\r\n        const month = String(date.getMonth() + 1).padStart(2, '0');\r\n        const year = date.getFullYear();\r\n        const hours = String(date.getHours()).padStart(2, '0');\r\n        const minutes = String(date.getMinutes()).padStart(2, '0');\r\n        const seconds = String(date.getSeconds()).padStart(2, '0');\r\n        return `${day}/${month}/${year} ${hours}:${minutes}:${seconds}`;\r\n      };\r\n      \r\n    const handleSubmit = () => {\r\n        const currentDate = getCurrentDate();\r\n        console.log(typeof(amount),typeof(date),typeof(name),typeof(currentDate))\r\n        const data = {\r\n            name,\r\n            date,\r\n            amount,\r\n            currentDate\r\n        }\r\n\r\n        console.log(data)\r\n        axios\r\n    .post(\"http://localhost:5000/creditupdate/creditupdate\",data)\r\n    .then(() => {\r\n      console.log(data);\r\n      navigate(\"/\")\r\n    })\r\n    .catch((error) => {\r\n      console.log(error,data);\r\n      alert(\"An error happened. Please check console\",error);\r\n    })\r\n    }\r\n    const formattedDate = (d) => {\r\n        if(d){\r\n            return(\r\n                ('0' + d.getDate()).slice(-2) +\r\n                \"/\"+\r\n                (\"0\" + (Number(d.getMonth())+1)).slice(-2)+\r\n                \"/\"+\r\n                d.getFullYear()\r\n            )\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        const inputElement = document.querySelector('.react-datepicker__input-container input');\r\n        if (inputElement) {\r\n          inputElement.classList.add('inputCustom');\r\n        }\r\n      }, [dateObj]);\r\n  return (\r\n    <div className='cardStylePC'>\r\n        <p className='headStyle'>Please enter following details</p>\r\n        <div className='pcContent'>\r\n            <div className='dateComponent'>\r\n                <p className='pStyle'>DATE</p>\r\n                <div className='dateClass'>\r\n                    <DatePicker\r\n                    selected={dateObj}\r\n                    dateFormat=\"dd/MM/yyyy\"\r\n                    onChange={date => handleDate(date)}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className='inputComponent'>\r\n            <p className='pStyle'>AMOUNT</p>\r\n            <input type=\"number\" value={amount} className='inputClass' onChange={handleAmount}/>\r\n            </div>\r\n        </div>\r\n        <div className='submitStyle'>\r\n        <ButtonComponent label=\"Submit\" change={handleSubmit} disabled={false}></ButtonComponent>\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PCHome"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}